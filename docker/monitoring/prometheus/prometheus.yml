global:
  scrape_interval: 15s

rule_files:
  - /etc/prometheus/rules/*.yml

scrape_configs:
  - job_name: "prometheus"
    static_configs:
      - targets: ["prometheus:9090"]

  # Node Exporter on the monitoring node (loopback-only).
  - job_name: "node"
    static_configs:
      - targets:
          - "127.0.0.1:9100"

  # Proxmox host Node Exporter (anonymized).
  - job_name: "proxmox-host-node"
    static_configs:
      - targets: ["PROXMOX_HOST_NODE_EXPORTER:9100"]
